---
page_title: "label Data Source - terraform-provider-label"
subcategory: ""
description: |-
  Generates a consistent resource ID and tags from naming components.
---

# label (Data Source)

Generates a consistent resource identifier and tag map. All provider-level values (tenant, environment, stage, workspace, namespace, delimiter) are inherited automatically. The data source only requires `resource_type`; all other attributes are optional overrides.

## Outputs

| Attribute | Description |
|-----------|-------------|
| `id` | Full resource identifier string |
| `tags` | Tag map including `Name` key |
| `tags_without_name` | Tag map excluding `Name` (useful when the resource sets name separately) |

## Example Usage

```terraform
# Basic usage
data "label" "sg" {
  resource_type = "sg"
}
# => id: dpl-ane2-sg-dev-sales-api

# With qualifier
data "label" "sg_emr" {
  resource_type = "sg"
  qualifier     = "emr"
}
# => id: dpl-ane2-sg-dev-emr-sales-api

# Qualifier + instance_key
data "label" "role_emr" {
  resource_type = "role"
  qualifier     = "emr"
  instance_key  = "shared-pii-etl"
}
# => id: dpl-ane2-role-dev-emr-sales-api-shared-pii-etl

# Delimiter override
data "label" "db" {
  resource_type = "db"
  qualifier     = "refined"
  delimiter     = "_"
}
# => id: dpl_ane2_db_dev_refined_sales_api

# Multiple resources of the same type via for_each
data "label" "sgs" {
  for_each      = toset(["emr", "msk", "vpce"])
  resource_type = "sg"
  qualifier     = each.value
}

# Usage example
resource "aws_security_group" "emr" {
  name = data.label.sg_emr.id
  tags = data.label.sg_emr.tags_without_name
}
```

## ID Composition Examples

Given provider config `tenant=dpl, environment=ane2, stage=dev, workspace=sales-api`:

| resource_type | qualifier | instance_key | delimiter | Result |
|---------------|-----------|--------------|-----------|--------|
| `sg` | | | | `dpl-ane2-sg-dev-sales-api` |
| `sg` | `emr` | | | `dpl-ane2-sg-dev-emr-sales-api` |
| `role` | `emr` | `shared-pii-etl` | | `dpl-ane2-role-dev-emr-sales-api-shared-pii-etl` |
| `emr` | | `shared-pii` | | `dpl-ane2-emr-dev-sales-api-shared-pii` |
| `db` | `refined` | | `_` | `dpl_ane2_db_dev_refined_sales_api` |

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `resource_type` (String) The resource type abbreviation (e.g. sg, role, emr, db)

### Optional

- `delimiter` (String) Override the provider-level delimiter for this resource
- `instance_key` (String) Instance key for distinguishing multiple resources of the same type
- `qualifier` (String) Qualifier segment (e.g. emr, msk)

### Read-Only

- `id` (String) Generated resource identifier
- `tags` (Map of String) Generated resource tags (includes Name)
- `tags_without_name` (Map of String) Generated resource tags without Name key
